[{"D:\\dev\\Vaje react\\sandbox\\react\\src\\index.js":"1","D:\\dev\\Vaje react\\sandbox\\react\\src\\reportWebVitals.js":"2","D:\\dev\\Vaje react\\sandbox\\react\\src\\App.js":"3","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\Homepage.jsx":"4","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\Gallery.jsx":"5","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\KdoSem.jsx":"6","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\NavBar.jsx":"7","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\common\\Input.jsx":"8","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\common\\PasswordField.jsx":"9","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\Signup.jsx":"10","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\LogIn.jsx":"11","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\LogOut.jsx":"12","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\Footer.jsx":"13","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\AdminNarocila.jsx":"14","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\common\\Narocilo.jsx":"15","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\Blog.jsx":"16","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\common\\Card.jsx":"17","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\listGroup.jsx":"18","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\Testing.jsx":"19","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\Narocila.jsx":"20","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\AdminBlog.jsx":"21","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\common\\DropDown.jsx":"22","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\common\\Galerija.jsx":"23","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\common\\ImageCard.jsx":"24","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\common\\navbarlinks.js":"25","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\common\\RenderLinks.jsx":"26","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\common\\toggleMouseHelper.js":"27"},{"size":645,"mtime":1614342871066,"results":"28","hashOfConfig":"29"},{"size":362,"mtime":499162500000,"results":"30","hashOfConfig":"29"},{"size":1316,"mtime":1614256385815,"results":"31","hashOfConfig":"29"},{"size":995,"mtime":1614619486576,"results":"32","hashOfConfig":"29"},{"size":538,"mtime":1610550615943,"results":"33","hashOfConfig":"29"},{"size":1006,"mtime":1610550608573,"results":"34","hashOfConfig":"29"},{"size":1383,"mtime":1614515404750,"results":"35","hashOfConfig":"29"},{"size":663,"mtime":1614621657263,"results":"36","hashOfConfig":"29"},{"size":632,"mtime":1614344180335,"results":"37","hashOfConfig":"29"},{"size":5526,"mtime":1614619184250,"results":"38","hashOfConfig":"29"},{"size":5342,"mtime":1614621601754,"results":"39","hashOfConfig":"29"},{"size":412,"mtime":1614619239397,"results":"40","hashOfConfig":"29"},{"size":2255,"mtime":1611153347777,"results":"41","hashOfConfig":"29"},{"size":6825,"mtime":1614631474164,"results":"42","hashOfConfig":"29"},{"size":1488,"mtime":1614632154481,"results":"43","hashOfConfig":"29"},{"size":8229,"mtime":1614798458015,"results":"44","hashOfConfig":"29"},{"size":853,"mtime":1614797918089,"results":"45","hashOfConfig":"29"},{"size":516,"mtime":1614537982107,"results":"46","hashOfConfig":"29"},{"size":1832,"mtime":1612303722372,"results":"47","hashOfConfig":"29"},{"size":8613,"mtime":1614619240272,"results":"48","hashOfConfig":"29"},{"size":3520,"mtime":1614623544648,"results":"49","hashOfConfig":"29"},{"size":492,"mtime":1614632567771,"results":"50","hashOfConfig":"29"},{"size":441,"mtime":1614632340518,"results":"51","hashOfConfig":"29"},{"size":255,"mtime":1613493788289,"results":"52","hashOfConfig":"29"},{"size":1296,"mtime":1614188107923,"results":"53","hashOfConfig":"29"},{"size":417,"mtime":1614343262302,"results":"54","hashOfConfig":"29"},{"size":199,"mtime":1614631794988,"results":"55","hashOfConfig":"29"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},"bnmkok",{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"58"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"58"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"99","usedDeprecatedRules":"58"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},"D:\\dev\\Vaje react\\sandbox\\react\\src\\index.js",[],["114","115"],"D:\\dev\\Vaje react\\sandbox\\react\\src\\reportWebVitals.js",[],"D:\\dev\\Vaje react\\sandbox\\react\\src\\App.js",[],"D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\Homepage.jsx",[],"D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\Gallery.jsx",[],"D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\KdoSem.jsx",[],"D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\NavBar.jsx",["116"],"import React, { useState } from \"react\";\r\nimport logo from \"../img/LogoBlack.svg\";\r\nimport userIcon from \"../img/usericon2.svg\";\r\nimport { regularLinks, loggedInLinks } from \"./common/navbarlinks\";\r\nimport RenderLinks from \"./common/RenderLinks\";\r\nimport \"../css/NavBar.css\";\r\n\r\nconst NavBar = ({ heading, loggedIn }) => {\r\n  return (\r\n    <nav className=\"navbar navbar-light bg-light fixed-top navbar-expand-lg\">\r\n      <div className=\"container-fluid\">\r\n        <a href=\"/\" className=\"navbar-brand\">\r\n          <img src={logo} className=\"svg logo\" alt=\"logo\" />\r\n          {heading}\r\n        </a>\r\n        <button\r\n          className=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-bs-toggle=\"collapse\"\r\n          data-bs-target=\"#toggleNavbar\"\r\n          aria-controls=\"toggleNavbar\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n\r\n        <div\r\n          className=\"collapse navbar-collapse d-flex flex-row-reverse\"\r\n          id=\"toggleNavbar\"\r\n        >\r\n          {loggedIn ? (\r\n            <RenderLinks links={loggedInLinks} />\r\n          ) : (\r\n            <RenderLinks links={regularLinks} />\r\n          )}\r\n        </div>\r\n        <img src={userIcon} alt=\"userIcon\" height=\"30\" />\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\common\\Input.jsx",[],"D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\common\\PasswordField.jsx",[],"D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\Signup.jsx",[],"D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\LogIn.jsx",[],"D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\LogOut.jsx",[],"D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\Footer.jsx",[],"D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\AdminNarocila.jsx",["117"],"import axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\nimport NavBar from \"./js/NavBar\";\r\nimport Narocilo from \"./js/common/Narocilo\";\r\nimport Dropdown from \"./js/common/DropDown\";\r\nimport { toast } from \"react-toastify\";\r\nimport { adminLinks } from \"./js/common/navbarlinks\";\r\nimport { ReactDOM } from \"react-dom\";\r\n\r\nclass AdminNarocila extends Component {\r\n  state = {\r\n    narocila: [],\r\n    slike: [],\r\n\r\n    styles: {\r\n      margin: \"135px\",\r\n    },\r\n\r\n    statusi: [\"Vsa naročila\", \"prejeto\", \"vdelu\", \"koncano\"],\r\n    narocilaStatusi: [\"prejeto\", \"vdelu\", \"koncano\"],\r\n    tmpStatus: \"\",\r\n    isciDatumNacin: \"\",\r\n    selectedStatus: \"\",\r\n\r\n    feedback: {\r\n      success: null,\r\n      sporocilo: \"\",\r\n    },\r\n    loaded: false,\r\n  };\r\n\r\n  // checkUser() {\r\n  //   const token = localStorage.getItem(\"token\");\r\n\r\n  //   axios\r\n  //     .post(\"http://localhost:4000/adminNarocila\", { token })\r\n  //     .then((response) => {\r\n  //       // console.log(response.data.admin);\r\n  //       if (!response.data.admin) window.location = \"/\";\r\n  //     });\r\n  // }\r\n\r\n  makePointer = (t) => {\r\n    // t.target.style.cursor = \"pointer\";\r\n    console.log(t.target.style.cursor);\r\n  };\r\n  removePointer = ({ currentTarget: t }) => {\r\n    // t.target.style.cursor = \"\";\r\n  };\r\n\r\n  odpriUpload = ({ currentTarget: input }) => {\r\n    const { narocila } = this.state;\r\n    const narocilo = narocila[input.id];\r\n\r\n    axios\r\n      .post(`${process.env.REACT_APP_SERVER_ADDRESS}/test`, { narocilo })\r\n      .then((res) => {\r\n        if (narocilo.status === \"koncano\") window.location = \"/adminBlog\";\r\n      });\r\n  };\r\n\r\n  handleStatusChange = ({ currentTarget: input }) => {\r\n    const { narocila } = this.state;\r\n    const val = input.value;\r\n    const index = input.id;\r\n    const narocilo = { val, index: narocila[index].IDNarocila };\r\n\r\n    axios\r\n      .post(`${process.env.REACT_APP_SERVER_ADDRESS}/updateNarocila`, {\r\n        narocilo,\r\n      })\r\n      .then((res) => {\r\n        if (res.data.success) {\r\n          const obj = { ...this.state.feedback };\r\n          obj[\"success\"] = res.data.success;\r\n          obj[\"sporocilo\"] = res.data.message;\r\n          this.setState({ feedback: obj });\r\n\r\n          narocila[index][\"Status\"] = val;\r\n          this.setState({ narocila: narocila });\r\n\r\n          toast.success(res.data.message, { position: \"top-center\" });\r\n        } else {\r\n          const obj = { ...this.state.feedback };\r\n          obj[\"success\"] = res.data.success;\r\n          obj[\"sporocilo\"] = res.data.message;\r\n          this.setState({ feedback: obj });\r\n\r\n          toast.error(res.data.message, { position: \"top-center\" });\r\n        }\r\n      });\r\n  };\r\n\r\n  handleSelectedStatusChange = ({ currentTarget: input }) => {\r\n    this.setState({ selectedStatus: input.value });\r\n    const obj = { ...this.state.feedback };\r\n    obj[\"success\"] = null;\r\n    obj[\"sporocilo\"] = \"\";\r\n    this.setState({ feedback: obj });\r\n  };\r\n\r\n  urediPoDatumu = ({ currentTarget: button }) => {\r\n    const tmpNacin = button.name;\r\n    const { isciDatumNacin, slike } = this.state;\r\n\r\n    if (isciDatumNacin === tmpNacin) this.setState({ isciDatumNacin: \"\" });\r\n    else this.setState({ isciDatumNacin: tmpNacin });\r\n\r\n    axios\r\n      .post(`${process.env.REACT_APP_SERVER_ADDRESS}/vrniNarocilaDatum`, {\r\n        tmpNacin,\r\n      })\r\n      .then((res) => {\r\n        if (!res.data.errMessage) {\r\n          const cards = res.data.narocila;\r\n\r\n          for (const card of cards) {\r\n            const tmp = [];\r\n            for (const slika of slike) {\r\n              if (slika.IDDodatka === card.IDDodatka) tmp.push(slika);\r\n            }\r\n            card[\"slike\"] = tmp;\r\n          }\r\n\r\n          this.setState({ narocila: cards });\r\n        }\r\n      });\r\n  };\r\n\r\n  getSlike = () => {\r\n    const { narocila, slike } = this.state;\r\n\r\n    for (const narocilo of narocila) {\r\n      const tmp = [];\r\n      for (const slika of slike) {\r\n        if (narocilo.IDDodatka === slika.IDDodatka) {\r\n          tmp.push(slika);\r\n        }\r\n      }\r\n      narocilo[\"slike\"] = tmp;\r\n    }\r\n    this.setState({ narocila: narocila });\r\n    this.setState({ loaded: true });\r\n  };\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(`${process.env.REACT_APP_SERVER_ADDRESS}/vrniAdminSlike`)\r\n      .then((res) => {\r\n        const slike = res.data.slike;\r\n        this.setState({ slike });\r\n      });\r\n\r\n    axios\r\n      .get(`${process.env.REACT_APP_SERVER_ADDRESS}/adminNarocila`)\r\n      .then((response) => {\r\n        const narocila = response.data.narocila;\r\n        this.setState({ narocila });\r\n\r\n        this.getSlike();\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      narocila,\r\n      styles,\r\n      isciDatumNacin,\r\n      selectedStatus,\r\n      loaded,\r\n    } = this.state;\r\n\r\n    const filtered =\r\n      selectedStatus && selectedStatus !== \"Vsa naročila\"\r\n        ? narocila.filter((n) => n.status === selectedStatus)\r\n        : narocila;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <NavBar heading=\"Admin\" links={adminLinks} />\r\n        {/*dodaj se props - links (napiss not kere linke uporabi*/}\r\n\r\n        <div style={styles}>\r\n          {/* {feedback.success ? (\r\n            <p className=\"alert alert-success\">{feedback.sporocilo}</p>\r\n          ) : !feedback.success && feedback.success !== null ? (\r\n            <p className=\"alert alert-danger\">{feedback.sporocilo}</p>\r\n          ) : null} */}\r\n\r\n          {filtered.length === 0 ? <h1>Ni zadetkov</h1> : null}\r\n          {filtered.map((n, i) => {\r\n            return (\r\n              <div key={i}>\r\n                <Narocilo\r\n                  key={n.Id}\r\n                  narocilo={n}\r\n                  name=\"status\"\r\n                  status={n.Status}\r\n                  statuses={this.state.statusi}\r\n                  narociloIndex={i}\r\n                  onClick={this.odpriUpload}\r\n                  options={this.state.narocilaStatusi}\r\n                  onStatusChange={this.handleStatusChange}\r\n                  loaded={loaded}\r\n                />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        <div className=\"Kriteriji\">\r\n          <button\r\n            onClick={this.urediPoDatumu}\r\n            name=\"desc\"\r\n            className={isciDatumNacin === \"desc\" ? \"active-btn\" : \"\"}\r\n          >\r\n            Najnovejši\r\n          </button>\r\n          <button\r\n            onClick={this.urediPoDatumu}\r\n            name=\"asc\"\r\n            className={isciDatumNacin === \"asc\" ? \"active-btn\" : \"\"}\r\n          >\r\n            Najstarejši\r\n          </button>\r\n\r\n          <Dropdown\r\n            options={this.state.statusi}\r\n            onChange={this.handleSelectedStatusChange}\r\n            // value={n.Status}\r\n          />\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AdminNarocila;\r\n","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\common\\Narocilo.jsx",[],"D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\Blog.jsx",["118"],"D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\common\\Card.jsx",[],"D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\listGroup.jsx",[],"D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\Testing.jsx",[],"D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\Narocila.jsx",["119"],"import React, { Component } from \"react\";\r\nimport Input from \"./common/Input\";\r\nimport axios from \"axios\";\r\nimport Joi from \"joi-browser\";\r\nimport { toast } from \"react-toastify\";\r\nimport NavBar from \"./NavBar\";\r\nimport { regularLinks } from \"./common/navbarlinks\";\r\nimport \"../css/forms.css\";\r\nimport \"../css/bgPics.css\";\r\n\r\nclass Narocila extends Component {\r\n  state = {\r\n    narocilo: {\r\n      model: \"\",\r\n      stevilka: \"\",\r\n\r\n      opis: \"\",\r\n\r\n      barva: \"\",\r\n    },\r\n\r\n    dodatki: {\r\n      nacinPlacila: \"Ob prejemu\",\r\n      status: \"prejeto\",\r\n      vzorec: \"4\",\r\n    },\r\n\r\n    vzorci: [], //not se shranjo vzorci iz pb\r\n\r\n    token: \"\",\r\n    t: \"\",\r\n\r\n    slike: \"\",\r\n    selectedFile: null,\r\n    sentSuccessful: \"\",\r\n    isSent: false,\r\n\r\n    errors: {},\r\n    redirect: false,\r\n\r\n    styles: {\r\n      margin: \"500px\",\r\n    },\r\n  };\r\n\r\n  schema = {\r\n    model: Joi.string().required(),\r\n    stevilka: Joi.number().max(50).min(10).required(),\r\n    opis: Joi.string().required(),\r\n    barva: Joi.string().required(),\r\n  };\r\n\r\n  loadPatterns() {\r\n    //dobi vzorce iz pb\r\n    axios\r\n      .get(`${process.env.REACT_APP_SERVER_ADDRESS}/vzorci`)\r\n      .then((response) => {\r\n        const vz = response.data.data;\r\n\r\n        this.setState({ vzorci: vz });\r\n      });\r\n  }\r\n\r\n  componentDidMount() {\r\n    const t = localStorage.getItem(\"token\");\r\n    this.setState({ token: t, t });\r\n\r\n    this.loadPatterns();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearTimeout(this.red);\r\n  }\r\n\r\n  handleSubmit = (ev) => {\r\n    ev.preventDefault();\r\n  };\r\n\r\n  validate = () => {\r\n    const { narocilo } = this.state;\r\n    const { error } = Joi.validate(narocilo, this.schema, {\r\n      abortEarly: false,\r\n    });\r\n\r\n    if (!error) return false;\r\n\r\n    const errors = {};\r\n\r\n    for (const item of error.details) errors[item.path[0]] = item.message;\r\n    this.setState({ errors });\r\n\r\n    return errors;\r\n  };\r\n\r\n  validateProperty = ({ name, value }) => {\r\n    const obj = { [name]: value };\r\n    const schema = { [name]: this.schema[name] };\r\n    const { error } = Joi.validate(obj, schema);\r\n    return error ? error.details[0].message : null;\r\n  };\r\n\r\n  handleChange = ({ currentTarget: input }) => {\r\n    const errors = { ...this.state.errors };\r\n    const errMessage = this.validateProperty(input);\r\n    if (errMessage) errors[input.name] = errMessage;\r\n    else delete errors[input.name];\r\n\r\n    const narocilo = { ...this.state.narocilo };\r\n    narocilo[input.name] = input.value;\r\n    this.setState({ narocilo, errors });\r\n  };\r\n\r\n  fileChange = (e) => {\r\n    this.setState({ slike: e.target.files });\r\n  };\r\n\r\n  posljiNarocilo = () => {\r\n    const { narocilo, token, dodatki } = this.state;\r\n    const error = this.validate();\r\n    this.setState({ errors: error || {} });\r\n\r\n    if (!token) {\r\n      toast.error(\"Za naročanje se potrebuješ prijaviti\", {\r\n        position: \"top-center\",\r\n        autoClose: 3000,\r\n      });\r\n    }\r\n\r\n    if (!error && token) {\r\n      axios\r\n        .post(`${process.env.REACT_APP_SERVER_ADDRESS}/narocila`, {\r\n          narocilo,\r\n          token,\r\n          dodatki,\r\n        }) //poslje podatke na server\r\n        .then((res) => {\r\n          if (res.data.dodatekId) {\r\n            const { slike } = this.state;\r\n            const did = res.data.dodatekId;\r\n\r\n            let counter = 0;\r\n            const stSlik = slike.length;\r\n\r\n            const formData = new FormData();\r\n            formData.append(\"dodatekId\", did);\r\n            formData.append(\"stSlik\", stSlik);\r\n\r\n            for (const slika of slike) {\r\n              formData.append(`file${counter}`, slika);\r\n              counter++;\r\n            }\r\n\r\n            //poslje slike v pb\r\n            axios\r\n              .post(\r\n                `${process.env.REACT_APP_SERVER_ADDRESS}/upload`,\r\n                formData,\r\n                {\r\n                  headers: {\r\n                    \"Content-Type\": \"multipart/form-data\",\r\n                  },\r\n                }\r\n              )\r\n              .then((res) => {\r\n                const { filePath } = res.data;\r\n                this.setState({ imgSrc: filePath });\r\n\r\n                if (res.data.success) {\r\n                  this.setState({ sentSuccessful: res.data.success });\r\n                  this.setState({ isSent: true });\r\n\r\n                  this.red = setTimeout(() => {\r\n                    this.setState({ redirect: true });\r\n                  }, 3000);\r\n\r\n                  toast.success(\r\n                    \"Naročilo uspešno poslano. Čez 3 sekunde boste preusmerjeni na domačo stran.\",\r\n                    {\r\n                      position: \"top-center\",\r\n                      autoClose: 3000,\r\n                    }\r\n                  );\r\n                } else\r\n                  toast.error(res.data.errMessage, {\r\n                    position: \"top-center\",\r\n                  });\r\n              });\r\n          } else {\r\n            toast.error(res.data.errMessage, {\r\n              position: \"top-center\",\r\n            });\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  handleDodatkiChange = ({ currentTarget: input }) => {\r\n    const dodatki = { ...this.state.dodatki };\r\n    dodatki[input.name] = input.value;\r\n    this.setState({ dodatki });\r\n  };\r\n\r\n  render() {\r\n    const { narocilo, vzorci, token, errors, dodatki, redirect } = this.state;\r\n\r\n    if (redirect) window.location = \"/\";\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <NavBar heading=\"Naroči se\" loggedIn={this.state.t} />\r\n        <div className=\"narocilo-bgPic\">\r\n          <div className=\"form-box\">\r\n            {token === null ? (\r\n              <p className=\"alert alert-danger m-3\">\r\n                Za narocanje se potrebujes prijaviti\r\n              </p>\r\n            ) : null}\r\n\r\n            <form\r\n              onSubmit={this.handleSubmit}\r\n              className=\"d-flex flex-column pb-3\"\r\n            >\r\n              <Input\r\n                name=\"model\"\r\n                label=\"Model: \"\r\n                value={narocilo.model}\r\n                onChange={this.handleChange}\r\n                error={errors[\"model\"]}\r\n              />\r\n\r\n              <Input\r\n                name=\"stevilka\"\r\n                label=\"Številka: \"\r\n                value={narocilo.stevilka}\r\n                onChange={this.handleChange}\r\n                error={errors[\"stevilka\"]}\r\n              />\r\n\r\n              <div className=\"m-3\">\r\n                <label htmlFor=\"opis\">Opis: </label>\r\n                <textarea\r\n                  name=\"opis\"\r\n                  id=\"opis\"\r\n                  className=\"form-control\"\r\n                  onChange={this.handleChange}\r\n                  value={narocilo.opis}\r\n                ></textarea>\r\n                {errors[\"opis\"] ? (\r\n                  <div\r\n                    id=\"err\"\r\n                    className=\"alert alert-danger form-text mv-d\"\r\n                    role=\"alert\"\r\n                  >\r\n                    {errors[\"opis\"]}\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n\r\n              {/* <Input\r\n              name=\"opis\"\r\n              label=\"Opis: \"\r\n              value={narocilo.opis}\r\n              onChange={this.handleChange}\r\n              error={errors[\"opis\"]}\r\n            /> */}\r\n\r\n              <Input\r\n                name=\"barva\"\r\n                label=\"Primarna barva: \"\r\n                value={narocilo.barva}\r\n                onChange={this.handleChange}\r\n                error={errors[\"barva\"]}\r\n              />\r\n              <div className=\"m-3\">\r\n                <select\r\n                  value={dodatki.vzorec}\r\n                  name=\"vzorec\"\r\n                  id=\"vzorec\"\r\n                  onChange={this.handleDodatkiChange}\r\n                >\r\n                  {vzorci.map((o) => {\r\n                    return (\r\n                      <option key={o.IDVzorca} value={o.IDVzorca}>\r\n                        {o.ime}\r\n                      </option>\r\n                    );\r\n                  })}\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"m-3\">\r\n                <input\r\n                  type=\"file\"\r\n                  name=\"files[]\" //name=\"files[]\"\r\n                  id=\"slika\"\r\n                  onChange={this.fileChange}\r\n                  multiple\r\n                  allow=\".jpeg, .png, .jpg\"\r\n                />\r\n              </div>\r\n\r\n              <button onClick={this.posljiNarocilo} id=\"submit\">\r\n                Pošlji\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Narocila;\r\n","D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\AdminBlog.jsx",[],"D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\common\\DropDown.jsx",[],"D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\common\\Galerija.jsx",[],"D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\common\\ImageCard.jsx",[],"D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\common\\navbarlinks.js",[],"D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\common\\RenderLinks.jsx",[],"D:\\dev\\Vaje react\\sandbox\\react\\src\\components\\js\\common\\toggleMouseHelper.js",[],{"ruleId":"120","replacedBy":"121"},{"ruleId":"122","replacedBy":"123"},{"ruleId":"124","severity":1,"message":"125","line":1,"column":17,"nodeType":"126","messageId":"127","endLine":1,"endColumn":25},{"ruleId":"124","severity":1,"message":"128","line":8,"column":10,"nodeType":"126","messageId":"127","endLine":8,"endColumn":18},{"ruleId":"124","severity":1,"message":"129","line":8,"column":10,"nodeType":"126","messageId":"127","endLine":8,"endColumn":22},{"ruleId":"124","severity":1,"message":"129","line":7,"column":10,"nodeType":"126","messageId":"127","endLine":7,"endColumn":22},"no-native-reassign",["130"],"no-negated-in-lhs",["131"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'ReactDOM' is defined but never used.","'regularLinks' is defined but never used.","no-global-assign","no-unsafe-negation"]